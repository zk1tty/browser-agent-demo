## The basic flow of OpenAI chat completion call

`{type:system}` message is the system prompt. It's consistent.   
`{type:human}` message is the input to the LLM, sharing the browser status.   
`{type:ai}` message is the input from the LLM, epresenting its internal reasoning, decisions, and the actions it has taken or plans to take.

### human-message:
- Represents input from the human user.
- This is what the user types or provides to the system (e.g., instructions, queries, corrections, or data).
- In the context of the log files we've been looking at (like input_msg_step_3.txt), the human-message often contains the overall task, current environment state (like URL, interactive elements), and any feedback or explicit instructions for the agent's current step.
- It drives the agent's actions and provides the context for what needs to be done.
- sample: 
```
{
    "type": "human",
    "content": [
      {
        "type": "text",
        "text": "
Current step: 3/100
Current date and time: 2025-05-17 00:14
1. Task: go to 'X.com', then:
    1. Wait 2 seconds after the page loads
    2. Click the 'Post' button
    3. Wait 1 second after the post dialog opens
    4. In the text input field, type the text VERY SLOWLY and CAREFULLY:
    '  hello world, I'm https://rebrowse.me  '
    5. After typing, verify EACH CHARACTER:
    - Starts with 'h'
    6. Only click 'Post' when you've verified every character is correct
    7. If you see a rate limit error, wait 30 seconds before retrying. 
2. Hints(Optional): 

3. Memory: 

4. Current url: https://x.com/compose/post
5. Available tabs:
    [TabInfo(page_id=0, url='https://x.com/compose/post', title='(2) Home / X')]
6. Interactive elements:
    [Start of page]
    [0]<div To view keyboard shortcuts, press question mark
    View keyboard shortcuts
    Messages
    Home
    Explore
    ...(extracted text contents)
    Â© 2025 X Corp./>
    [1]<div group/>
    ...(extracted div contents)
    [99]<button false>More/>
    ... 10943 pixels below - scroll or extract content to see more ...

 **Previous Actions** 
Previous step: 2/100 
Previous action 1/2: {"wait":{"seconds":1}}
Result of previous action 1/2: ðŸ•’  Waiting for 1 seconds
Previous action 2/2: {}"
      },
      {
        "type": "image_url"
      }
    ]
  }
```

## ai-message:
- Represents output or responses generated by the AI model (the agent itself).
- This includes the AI's thoughts, evaluations of its previous actions, plans for the next actions, and the specific actions it decides to take (like clicking a button, typing text, etc.).
- In the logs, ai-messages show the history of what the agent has thought and done in previous steps. This allows the agent (and developers) to track its reasoning and execution flow.
- It's essentially the agent's "voice" or "actions" in the conversation history.
- sample: 
    ```
    {
        "type": "ai",
        "content": "```json
        {
        "current_state": {
            "evaluation_previous_goal": "Success - The 'Post' dialog opened successfully.",
            "important_contents": "",
            "thought": "The next step is to wait for 1 second before typing the text into the input field.",
            "next_goal": "Wait for 1 second, then type the text '  hello world, I'm https://rebrowse.me  ' very slowly and carefully into the input field."
        },
        "action": [
            {"wait": {"seconds": 1}},
            {"input_text_slowly": {"index": 12, "text": "  hello world, I'm https://rebrowse.me  "}}
            ]
        }
    ```